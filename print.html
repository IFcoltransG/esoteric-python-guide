<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Esoteric Python Guide</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="home.html">Home</a></li><li class="chapter-item expanded "><a href="whitespace.html"><strong aria-hidden="true">1.</strong> Whitespace</a></li><li class="chapter-item expanded "><a href="truthiness.html"><strong aria-hidden="true">2.</strong> Truthiness and Falsiness</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Short Circuits (Under Construction)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Lambdas (Under Construction)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Operators and Builtins (Under Construction)</div></li><li class="chapter-item expanded affix "><a href="credits.html">Credits</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Esoteric Python Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/IFcoltransG/esoteric-python-guide/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="home"><a class="header" href="#home">Home</a></h1>
<blockquote>
<p>When nothing remains, everything is equally possible.</p>
</blockquote>
<p>This guide hopes to take you from an intermediate Python programmer to a veritable Python McGyver, able to build anything out of practically nothing.</p>
<ol>
<li><a href="./whitespace.html">Whitespace</a></li>
<li><a href="./truthiness.html">Truthiness and Falsiness</a></li>
</ol>
<p>Hosted from <a href="https://github.com/IFcoltransG/esoteric-python-guide">this repo.</a> Direct your blame <a href="./credits.html">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="whitespace"><a class="header" href="#whitespace">Whitespace</a></h1>
<blockquote>
<p>They'll tell you I'm insane, but I've got a blank space, baby, and I'll write your name.</p>
</blockquote>
<p>You've probably heard that Python has significant whitespace, but whitespace has special significance to any esoteric pythonista.</p>
<h2 id="indentation"><a class="header" href="#indentation">Indentation</a></h2>
<p>Unlike many programmers, Python won't fight you about whether you use tabs or spaces. If you replace all of the spaces and tabs in a Python file with each other, your code should still run. Using <code>·</code> for space and <code>↹</code> for tab, the following is valid Python:</p>
<pre><code class="language-python">if↹True:
·print(end=&quot;Hello&quot;)
·print(&quot;&quot;,↹&quot;World&quot;)
</code></pre>
<p>You can combine both in one indentation level, if you're careful to always use the same mix of spaces and tabs:</p>
<pre><code class="language-python">if True:
↹·↹·↹a = 1
↹·↹·↹if a &lt; 10:
↹·↹·↹···a = 10
↹·↹·↹···print(a)
</code></pre>
<p>However, the following will <em>not</em> work, because the order of the tab and space are different:</p>
<pre><code class="language-python">if True:
↹·a = 1
·↹b = 2 # IndentationError: unindent does not match any outer indentation level
</code></pre>
<h2 id="separators"><a class="header" href="#separators">Separators</a></h2>
<p>Python is lax with whitespace, letting you put it in strange places and leave it out in stranger ones. Whenever Python thinks it can unambiguously figure out where a token ends, you don't need whitespace following. For instance:</p>
<pre><code class="language-python">print(arg1,arg2,kwarg=kwarg)
for(a)in[1]:b=a
print(1and 2in[]) #keywords and variables can't begin with digits
foo=lambda*args:lambda arg,/:args+[arg]
</code></pre>
<p>This is a godsend for golfing. Never put spaces around your operators, and try to manoeuvre your terms so that any keywords are right next to punctuation. For instance, checking if a number is odd, <code>if 1-i%2:</code> can be <code>if~i%2:</code> instead.</p>
<h3 id="numbers"><a class="header" href="#numbers">Numbers</a></h3>
<p>Spaces can't go in numeric literals. Python views <code>1.__eq__</code> as <code>(1.) __eq__</code> or <code>(1.0) __eq__</code>, which is a syntax error. You can fix it with a space: <code>1 .__eq__</code> is the dunder method for <code>== 1</code> because <code>1 .</code> isn't a valid float literal.</p>
<p>If you want to put a space in a long number for readability, you're reading the wrong guide. However, <code>_</code> can be used instead, meaning <code>1_000_000</code> is a valid number.</p>
<h3 id="oddities"><a class="header" href="#oddities">Oddities</a></h3>
<p>Numbers can be extremely misleading: <code>[0x_for x in (1, 2, 3)]</code> evaluates to <code>[15]</code>. It startles enough people that Python 3.10 has deprecated this kind of syntax misuse.</p>
<details> <summary> <i> Expand for an explanation. </i> </summary> This means <code>[0xF or (x in (1, 2, 3))]</code>. <code>0x_f</code> is a hexadecimal integer literal, and F in hex equals 15 as a decimal. <code>o</code> isn't a hex digit, so Python doesn't lump <code>or</code> into the literal. (<code>15</code> is truthy, so using Boolean short circuiting, the <code>x in (1, 2, 3)</code> is never executed. That means <code>x</code> being undefined causes no error. The <code>15</code> is in a list literal rather than a list comprehension.) </details>
<h4 id="quasi-operators"><a class="header" href="#quasi-operators">Quasi-operators</a></h4>
<p>Whitespace can be a very confusing tool for things other than numbers. For instance, the so called 'pistol operator' or 'comma assignment' —</p>
<pre><code class="language-python">numbers = [42]
only_element ,= numbers
print(only_element) # 42
</code></pre>
<p>— is better rendered as <code>only_element, = numbers</code>, <code>(only_element,) = numbers</code>, or equivalently <code>[only_element] = numbers</code>. The last makes it clear that the pistol operator uses iterable unpacking and irresponsible whitespace to extract the only element of a list. The 'space-invader increment operator' <code>x -=- 1</code> is in a similar vein (parsing as <code>x -= -1</code>).</p>
<h2 id="semicolons"><a class="header" href="#semicolons">Semicolons</a></h2>
<p>Semicolons can be useful to avoid needing to type indentation characters; they act as a replacement newline for separating statements because Python and C are basically the same language.</p>
<pre><code class="language-python">while 2+2!=5: print(&quot;Try again.&quot;); break;
</code></pre>
<p>Both statements are part of the loop.</p>
<h2 id="practicalities"><a class="header" href="#practicalities">Practicalities</a></h2>
<p>—Whitespace is great, but what does it mean for golfing?</p>
<p>I'm glad you asked. If you have only one indentation level, put it all on the same line. <code>for x in y:a;b;c</code></p>
<p>If you have more than one of them, the outer indentation levels will need their own line. You don't need to use four spaces for each indent. A single space (or tab, you heathen!) will suffice.</p>
<pre><code class="language-python">if-1&gt;a:
 a
 b
 while c:
  try:d
  except:0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="truthiness-and-falsiness"><a class="header" href="#truthiness-and-falsiness">Truthiness and Falsiness</a></h1>
<blockquote>
<p>What's true for you doesn't have to be true forever, and sometimes the truth isn't always for the better.</p>
</blockquote>
<p>Humanity has been trying to figure out the nature of truth for millennia. Philosophy tells us that some sentences are neither true nor false, such as this one. Fortunately, Python doesn't care what philosophers think.</p>
<h2 id="booleans"><a class="header" href="#booleans">Booleans</a></h2>
<p>Booleans start simple enough: they can either be <code>True</code> or <code>False</code>. In the same way that <code>1 + 1</code> equals <code>2</code>, <code>1 + 1 == 2</code> equals <code>True</code>. Python seems to respect mathematics more than philosophy, and there's a whole branch of algebra dedicated to combining <code>True</code> and <code>False</code> with the operators <code>and</code>, <code>or</code> and <code>not</code>. (An interesting coincidence: the mathematician who invented Boolean algebra, George Boole, was named after Booleans.)</p>
<p><code>and</code>, <code>not</code> and <code>or</code> are pretty intuitive, though <code>or</code> is inclusive, meaning <code>True or True</code> is <code>True</code>.</p>
<details> <summary> <i> Expand for the full truth table. </i> </summary>
Here is a lookup table for any <code>A</code> and any <code>B</code>.
<table>
  <tr>
    <th>A</th><th>B</th><th>not A</th><th>not B</th><th>A and B</th><th>A or B</th> </tr>
  <tr>
    <th>False</th><th>False</th><td>True</td><td>True</td><td>False</td><td>False</td> </tr>
  <tr>
    <th>False</th><th>True</th><td>True</td><td>False</td><td>False</td><td>True</td><tr>
    <th>True</th><th>False</th><td>False</td><td>True</td><td>False</td><td>True</td> </tr>
  <tr>
    <th>True</th><th>True</th><td>False</td><td>False</td><td>True</td><td>True</td> </tr>
  </tr>
</table>
</details>
<p>It is almost never necessary to write <code>x == True</code> or <code>x == False</code>. <code>x</code> and <code>not x</code> are cleaner, which may or may not be a good thing. You should also be careful when returning Booleans in <code>if</code> statements:</p>
<pre><code class="language-python">if x is True:
    return True
else:
    return False
# returns True when x is True, and False when x is False
</code></pre>
<p>You can simply write <code>return x</code>. You probably don't need to be warned that <code>not not</code> is pointless.</p>
<h3 id="weirder"><a class="header" href="#weirder">Weirder</a></h3>
<p>Perhaps you've noticed that Booleans look a lot like bits in binary. <code>False</code> seems like <code>0</code> and <code>True</code> like <code>1</code>. In fact, before Booleans were added, Python used <code>0</code> and <code>1</code> instead. This isn't just history trivia: Python still treats Booleans as numbers for backwards compatibility. Yes, that means <code>True + 1</code> is <code>2</code>. You can use a <code>bool</code> object any time you need an <code>int</code> <code>0</code> or <code>1</code>. This means you can write <code>not x</code> as <code>1&gt;x</code>, which is shorter and might cut out some whitespace around the expression.</p>
<h2 id="truthiness"><a class="header" href="#truthiness">Truthiness</a></h2>
<p>What happens when Python expects a Boolean, but you give it a small archipelago? Probably not an error.</p>
<p>Python treats everything, not just Booleans, as either 'truthy' or 'falsy' (sometimes 'falsey'). If you put something truthy in an <code>if</code> condition, it will run the block, but if it's falsy, the <code>else</code> block will run instead.</p>
<p>Obviously <code>True</code> is truthy, but every other object is also truthy by default. The exceptions are <code>None</code>, zero, empty collections and, unsurprisingly, <code>False</code>. The zeroes are <code>0</code>, <code>0.0</code> and <code>0j</code>. Empty collections include empty strings, empty lists, empty dictionaries, empty <code>frozenset</code>s, empty tuples... you get the idea.</p>
<pre><code class="language-python">numbers = [1, 2, 3, 4, 5]
# loop until list is empty
while numbers: # truthy if numbers has elements, falsy otherwise
    print(numbers.pop())

n = 10
# loop until n is 0
while n:
    n -= 1

# the str version is no different
</code></pre>
<p>This makes conversion between Booleans and integers entirely implicit. You can use a XOR designed for integers on Booleans if you want: <code>a ^ b</code>.</p>
<p><code>boolean&lt;1</code> might seem like a short way to negate a Boolean, but if can be even shorter if you are prepared to do some setup first. The <code>~</code> operator converts <code>0</code> to <code>-1</code> and <code>-1</code> to <code>0</code>, among other things. <code>-1</code> is not zero, so it's truthy. That means if you negate your Boolean beforehand (<code>f = -f</code>, turning <code>True</code> to <code>-1</code> and <code>False</code> to <code>0</code>) then you can simply use <code>~f</code> instead of <code>not f</code>.</p>
<h2 id="algebra"><a class="header" href="#algebra">Algebra</a></h2>
<p>Knowing Boolean algebra won't do you any harm but only one part is essential: De Morgan's Law. <code>(not a) or (not b)</code> is always equal to <code>not (a and b)</code>. Likewise, <code>(not a) and (not b)</code> is <code>not (a or b)</code>.</p>
<details> <summary> <i> Expand for another way of putting it. </i> </summary> You probably use De Morgan's Law every day. If you are not <i>rich and famous</i>, then you are either <i>not rich</i>, or <i>not famous</i>. If you are not <i>hungry or thirsty</i>, then you must be both <i>not hungry</i>, and <i>not thirsty</i>.
<p>
<p>
In other words, if you have a <code>not</code> outside an <code>and</code> or <code>or</code> expression, you can bring it inside of the expression by negating both operands <code>a</code> and <code>b</code>, then swapping <code>and</code> with <code>or</code>. Equivalently, you can negate both operands if you also negate the whole expression and swap the <code>and</code>/<code>or</code>. (Make sure you know where your brackets are, so you don't accidentally negate <code>a</code> rather than the whole expression.) Here's a demonstration that <code>not (A and B)</code> is <code>(not A) or (not B)</code>:
<table>
  <tr>
    <th>A</th><th>B</th><th>not A<br></th><th>not B<br></th><th>A and B<br></th><th>not (A and B)<br></th><th>(not A) or (not B)<br></th> </tr>
  <tr>
    <th>False</th><th>False</th><td>True</td><td>True</td><td>False</td><td>True</td><td>True</td> </tr>
  <tr>
    <th>False</th><th>True</th><td>True</td><td>False</td><td>False</td><td>True</td><td>True</td> </tr>
  <tr>
    <th>True</th><th>False</th><td>False</td><td>True</td><td>False</td><td>True</td><td>True</td> </tr>
  <tr>
    <th>True</th><th>True</th><td>False</td><td>False</td><td>True</td><td>False</td><td>False</td> </tr>
</table>
And here's <code>not (A or B)</code> is <code>(not A) and (not B)</code>:
<table>
  <tr>
    <th>A</th><th>B</th><th>not A<br></th><th>not B<br></th><th>A or B<br></th><th>not (A or B)<br></th><th>(not A) and (not B)<br></th> </tr>
  <tr>
    <th>False</th><th>False</th><td>True</td><td>True</td><td>False</td><td>True</td><td>True</td> </tr>
  <tr>
    <th>False</th><th>True</th><td>True</td><td>False</td><td>True</td><td>False</td><td>False</td> </tr>
  <tr>
    <th>True</th><th>False</th><td>False</td><td>True</td><td>True</td><td>False</td><td>False</td> </tr>
  <tr>
    <th>True</th><th>True</th><td>False</td><td>False</td><td>True</td><td>False</td><td>False</td> </tr>
</table>
</details>
<h2 id="pragmatism"><a class="header" href="#pragmatism">Pragmatism</a></h2>
<p>If you need to select an expression based on a Boolean, indexing <code>(a,b)[boolean]</code> is often shorter than an explicit ternary conditional <code>b if boolean else a</code>. The problem with the former is that it will always evaluate both <code>a</code> and <code>b</code>. For example, <code>(print(&quot;a&quot;),print(&quot;b&quot;))[boolean]</code> will always print both <code>a</code> and <code>b</code>, so should be converted to <code>print((&quot;a&quot;,&quot;b&quot;)[boolean])</code>  or <code>print(&quot;ab&quot;[boolean])</code> to print only one of the two. (Many other situations can be shortened using short-circuiting.)</p>
<p>If you need to convert a Boolean to lowercase text <code>&quot;true&quot;</code>/<code>&quot;false&quot;</code>, you can interleave the two strings and use a slice, saving on quote marks. <code>&quot;ftarlusee&quot;[boolean::2]</code> takes every second character, starting at either <code>0</code> or <code>1</code> depending, so will suffice. The trick works for any pair of strings that are the same length, or if there's one extra character for the <code>False</code> option.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="credits"><a class="header" href="#credits">Credits</a></h1>
<p>Most of this: <a href="https://github.com/IFcoltransG">IFcoltransG</a>.</p>
<p>Inspiration: <code>#esoteric-python</code> in the <a href="https://discord.gg/python">Python Discord</a>, plus <a href="https://codegolf.stackexchange.com/q/54">Tips for golfing in Python</a>, and <a href="learnyouahaskell.com">Learn You a Haskell</a>.</p>
<h2 id="quotes"><a class="header" href="#quotes">Quotes</a></h2>
<ul>
<li><strong>Main page</strong>: a Pythonista on the <code>#esoteric-python</code> channel.</li>
<li><strong>Home</strong>: One With Nothing.</li>
<li><strong>Whitespace</strong>: Blank Space by Taylor Swift.</li>
<li><strong>Truthiness</strong>: The Truth from the 36 Questions soundtrack.</li>
<li><strong>Short circuits</strong>: The Hitchhikers Guide to the Galaxy by Douglas Adams.</li>
<li><strong>Lambdas</strong>: generic template.</li>
<li><strong>Operators and Builtins</strong>: Batman (1967).</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
